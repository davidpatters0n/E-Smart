<!--This page is only avaliable to the administrator. -->

<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Email</th>
					<th>Account Type</th>
					<th>Created On</th>
					<th>Last Seen</th>
					<th>Sign in Count</th>
					<th><center>Show</center></th>
					<th><center>Edit</center></th>
					<th><center>Delete</center></th>
				</tr>
			</thead>
			<tbody>
  			<% @users.each do |user| %>    <!--Loop all users-->
  				<tr>
  					<td><%= user.first_name %></td>    <!--Get the first name-->
  					<td><%= user.last_name %></td>     <!--Get the last name-->
  					<td><%= link_to user.email, "mailto:" + user.email %></td>  <!--Get the email and make it a link -->
  					<td><%= user.roles.collect(&:name).to_sentence(:last_word_connector => ' and ') %></td>
                    <!--Get the users role and convert it to a sentence by, pass in last_word_connector to "and" to
                     make a sentence -->
  					<td><%= user.created_at.strftime("%B %d, %Y") %></td> <!--Get the created at date and time-->
  					<% if user.last_sign_in_at.nil? %>  <!--If user has never signed in display "NEVER"-->
  					<td>Never</td>
  					<% else %>
  					<td><%= user.last_sign_in_at.strftime("%B %d, %Y at %I:%M%p") %></td>
  					<% end %>
  					<td><%= user.sign_in_count %></td>   <!--Get the user sign in count -->
  					<td><center><%= link_to 'Show', user, :class => 'btn btn-mini' %></center></td>
					<td><center><%= link_to 'Edit', edit_user_path(user), :class => 'btn btn-mini' %></center></td>
					<td><center><%= link_to 'Delete', user, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-mini btn-danger' %></center></td>
  				</tr>
    		<% end %>
  			</tbody>
		</table>
<%= link_to 'Create New User', new_user_path %>


				
		
